<div class="spacing-search">
  <d-select
    class="select"
    [filterKey]="'name'"
    [width]="580"
    [appendToBody]="true"
    [(ngModel)]="application"
    [searchFn]="onSearchApplication"
    [isSearch]="true"
    placeholder="Select application"
    (valueChange)="onApplicationChange($event)"
  >
    <ng-template let-option="option">
      <span>{{ option.name }}</span>
      <span style="float: right; padding: 3px 0">{{ option.comment }}</span>
    </ng-template>
  </d-select>
  <d-select
    class="select"
    [options]="resourceNamespaceOptions"
    [filterKey]="'label'"
    [valueKey]="'value'"
    [appendToBody]="true"
    placeholder="Select namespace"
    [(ngModel)]="queryParam.namespace"
    (valueChange)="onResourceNamespaceChange($event)"
  >
  </d-select>
  <d-button class="button" bsStyle="common" (click)="fetchData()"
            [disabled]="queryParam.applicationName ==='' || queryParam.namespace ===''">Filter
  </d-button>
</div>
<div class="spacing-table" dLoading [loading]="loading">
  <div style="margin-bottom: 20px" *ngFor="let deployment of deploymentList">
    <app-kubernetes-deployment-splitter
      [kubernetesDeployment]="deployment" *ngIf="show"
    >
    </app-kubernetes-deployment-splitter>
  </div>
</div>
